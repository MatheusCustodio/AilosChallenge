<div class="mx-3">
    <p class="title">Informe o CPF do futuro cooperado (a)</p>
    <p class="sub-title">
        Se necessário, você poderá duplicar uma conta existente ou pausar e retornar este cadastro futuramente.
        <br> 
        Digite apenas os números (sem pontos ou traços).
    </p>
    <form [formGroup]="cpfForm" (ngSubmit)="onSubmit()">
        <label for="cpf">CPF</label>
        <div class="d-flex flex-row">
            <input type="text" id="cpf" mask="000.000.000-00" class="form-control"
            formControlName="cpf">
            <button class="btn btn-primary mx-3" type="submit" [disabled]="cpfForm.errors?.['minlength']">Consultar por cpf</button>
        </div>
        <div *ngIf="cpfForm.get('cpf')?.errors?.['invalidCPF']" class="invalid-cpf">
            Informe um cpf Válido.
        </div>
        
    </form>
    <div *ngIf="cpfSearchResult.found" class="row">
        <mat-card class="my-3 col-3">
            <mat-card-title>Situação Cadastral do CPF</mat-card-title>
            <mat-card-subtitle>Consulta na Receita Federal</mat-card-subtitle>
            <mat-card-content class="d-flex flex-column">
                <div class="d-flex flex-row">
                    <img src="/assets/images/avatarIcon.png" class="icon" height="auto" width="auto">
                    <div class="d-flex flex-fill flex-column mx-3">
                        <span class="card-label">Nome</span>
                        <span class="card-value">{{cpfSearchResult.name}}</span>
                    </div>
                </div>
                <div class="d-flex flex-row mt-5">
                    <img [src]="cpfSearchResult.situationOk ? '/assets/images/checkIcon.png' : '/assets/images/erroricon.png'" class="icon" height="auto" width="auto">
                    <div class="d-flex flex-fill flex-column mx-3">
                        <span class="card-label">Situação do CPF</span>
                        <span class="card-value">{{cpfSearchResult.situationOk ? 'Regular' : 'Irregular'}}</span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>